<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C编译和链接过程 | wxvirus</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/icon.png">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="年轻的后端，学习ing">
    <meta name="无解" content="个人学习博客和笔记">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.3aa0083c.css" as="style"><link rel="preload" href="/assets/js/app.0b73d4e4.js" as="script"><link rel="preload" href="/assets/js/2.5e51705b.js" as="script"><link rel="preload" href="/assets/js/10.957c5076.js" as="script"><link rel="prefetch" href="/assets/js/100.9fc3cc5a.js"><link rel="prefetch" href="/assets/js/101.0882e1c9.js"><link rel="prefetch" href="/assets/js/102.c5679abf.js"><link rel="prefetch" href="/assets/js/103.3e2866e7.js"><link rel="prefetch" href="/assets/js/104.27b4b6ac.js"><link rel="prefetch" href="/assets/js/105.8688a893.js"><link rel="prefetch" href="/assets/js/106.93178e8d.js"><link rel="prefetch" href="/assets/js/107.d3b05a5d.js"><link rel="prefetch" href="/assets/js/108.afdc29bc.js"><link rel="prefetch" href="/assets/js/109.d87872eb.js"><link rel="prefetch" href="/assets/js/11.ed756a7a.js"><link rel="prefetch" href="/assets/js/110.069ba339.js"><link rel="prefetch" href="/assets/js/111.930e414c.js"><link rel="prefetch" href="/assets/js/112.91b63639.js"><link rel="prefetch" href="/assets/js/113.c0e3a3ad.js"><link rel="prefetch" href="/assets/js/114.5ac7c485.js"><link rel="prefetch" href="/assets/js/115.64df0e71.js"><link rel="prefetch" href="/assets/js/116.8e6932c8.js"><link rel="prefetch" href="/assets/js/117.8c6730c7.js"><link rel="prefetch" href="/assets/js/118.fb6ca49d.js"><link rel="prefetch" href="/assets/js/119.a577956d.js"><link rel="prefetch" href="/assets/js/12.f1c50211.js"><link rel="prefetch" href="/assets/js/120.c1946a77.js"><link rel="prefetch" href="/assets/js/121.11d02594.js"><link rel="prefetch" href="/assets/js/122.25ca9542.js"><link rel="prefetch" href="/assets/js/123.5716fb7f.js"><link rel="prefetch" href="/assets/js/124.d0036eaa.js"><link rel="prefetch" href="/assets/js/125.b6e47502.js"><link rel="prefetch" href="/assets/js/126.69503065.js"><link rel="prefetch" href="/assets/js/127.a3e6ed5a.js"><link rel="prefetch" href="/assets/js/128.6b16e23a.js"><link rel="prefetch" href="/assets/js/129.a04b4adf.js"><link rel="prefetch" href="/assets/js/13.3fa0a7c1.js"><link rel="prefetch" href="/assets/js/130.723bccbc.js"><link rel="prefetch" href="/assets/js/131.4ae36d3e.js"><link rel="prefetch" href="/assets/js/132.6f20141c.js"><link rel="prefetch" href="/assets/js/133.4ec9c500.js"><link rel="prefetch" href="/assets/js/134.940ae0b2.js"><link rel="prefetch" href="/assets/js/135.9f3ef847.js"><link rel="prefetch" href="/assets/js/136.c5a0b178.js"><link rel="prefetch" href="/assets/js/137.45400530.js"><link rel="prefetch" href="/assets/js/138.1f2e6478.js"><link rel="prefetch" href="/assets/js/139.3005c2ea.js"><link rel="prefetch" href="/assets/js/14.58d7c405.js"><link rel="prefetch" href="/assets/js/140.967325c7.js"><link rel="prefetch" href="/assets/js/141.e68dc4d2.js"><link rel="prefetch" href="/assets/js/142.8a6cfe9d.js"><link rel="prefetch" href="/assets/js/143.0db0f614.js"><link rel="prefetch" href="/assets/js/144.0bc719f5.js"><link rel="prefetch" href="/assets/js/145.94eaadb8.js"><link rel="prefetch" href="/assets/js/146.30522b3c.js"><link rel="prefetch" href="/assets/js/147.edd5d3c6.js"><link rel="prefetch" href="/assets/js/148.66a4172f.js"><link rel="prefetch" href="/assets/js/149.43cef044.js"><link rel="prefetch" href="/assets/js/15.a3779e2f.js"><link rel="prefetch" href="/assets/js/150.0f9df101.js"><link rel="prefetch" href="/assets/js/151.d1891ff3.js"><link rel="prefetch" href="/assets/js/152.c265277a.js"><link rel="prefetch" href="/assets/js/153.4f93d56f.js"><link rel="prefetch" href="/assets/js/154.39b41697.js"><link rel="prefetch" href="/assets/js/155.c23cedef.js"><link rel="prefetch" href="/assets/js/156.46677d99.js"><link rel="prefetch" href="/assets/js/157.80ae9d80.js"><link rel="prefetch" href="/assets/js/158.62806d6c.js"><link rel="prefetch" href="/assets/js/159.d25c02ad.js"><link rel="prefetch" href="/assets/js/16.d93d4e3d.js"><link rel="prefetch" href="/assets/js/160.ee7b6fe0.js"><link rel="prefetch" href="/assets/js/161.6025bd70.js"><link rel="prefetch" href="/assets/js/162.c50ff63c.js"><link rel="prefetch" href="/assets/js/163.522ba0eb.js"><link rel="prefetch" href="/assets/js/164.8005dc28.js"><link rel="prefetch" href="/assets/js/165.349d274e.js"><link rel="prefetch" href="/assets/js/166.0454cf85.js"><link rel="prefetch" href="/assets/js/167.a6f6bcab.js"><link rel="prefetch" href="/assets/js/168.694bcbb5.js"><link rel="prefetch" href="/assets/js/169.62dee26d.js"><link rel="prefetch" href="/assets/js/17.45752042.js"><link rel="prefetch" href="/assets/js/170.745d53f5.js"><link rel="prefetch" href="/assets/js/171.512b32ae.js"><link rel="prefetch" href="/assets/js/172.03131cb5.js"><link rel="prefetch" href="/assets/js/173.cb3d9718.js"><link rel="prefetch" href="/assets/js/174.fd285ccf.js"><link rel="prefetch" href="/assets/js/175.76f9e654.js"><link rel="prefetch" href="/assets/js/176.b1f6a84e.js"><link rel="prefetch" href="/assets/js/177.7b8ee2f1.js"><link rel="prefetch" href="/assets/js/178.563c03cd.js"><link rel="prefetch" href="/assets/js/179.f97899c5.js"><link rel="prefetch" href="/assets/js/18.b204126b.js"><link rel="prefetch" href="/assets/js/180.c5639ed1.js"><link rel="prefetch" href="/assets/js/181.9aa2143a.js"><link rel="prefetch" href="/assets/js/182.f6ff7dba.js"><link rel="prefetch" href="/assets/js/183.0c05e864.js"><link rel="prefetch" href="/assets/js/184.dbc91b8d.js"><link rel="prefetch" href="/assets/js/185.01941217.js"><link rel="prefetch" href="/assets/js/186.988808f9.js"><link rel="prefetch" href="/assets/js/187.bc4d1a95.js"><link rel="prefetch" href="/assets/js/188.3e6e33aa.js"><link rel="prefetch" href="/assets/js/189.76e43b55.js"><link rel="prefetch" href="/assets/js/19.f46b126d.js"><link rel="prefetch" href="/assets/js/190.8049c468.js"><link rel="prefetch" href="/assets/js/191.5b6c715d.js"><link rel="prefetch" href="/assets/js/192.82bffd4b.js"><link rel="prefetch" href="/assets/js/193.a159d7ab.js"><link rel="prefetch" href="/assets/js/194.84cacd84.js"><link rel="prefetch" href="/assets/js/195.e9c28588.js"><link rel="prefetch" href="/assets/js/196.f067090d.js"><link rel="prefetch" href="/assets/js/197.fb0d5c2f.js"><link rel="prefetch" href="/assets/js/198.87dd8ceb.js"><link rel="prefetch" href="/assets/js/199.941dc02f.js"><link rel="prefetch" href="/assets/js/20.4af64acc.js"><link rel="prefetch" href="/assets/js/200.11d4a446.js"><link rel="prefetch" href="/assets/js/201.357aad0a.js"><link rel="prefetch" href="/assets/js/202.3b7c0971.js"><link rel="prefetch" href="/assets/js/203.13929a23.js"><link rel="prefetch" href="/assets/js/204.1a1750d4.js"><link rel="prefetch" href="/assets/js/205.767dedd6.js"><link rel="prefetch" href="/assets/js/206.e0b0d0ba.js"><link rel="prefetch" href="/assets/js/207.29635fab.js"><link rel="prefetch" href="/assets/js/208.d167b59a.js"><link rel="prefetch" href="/assets/js/209.4be945cc.js"><link rel="prefetch" href="/assets/js/21.d8445fe5.js"><link rel="prefetch" href="/assets/js/210.bf11bf5f.js"><link rel="prefetch" href="/assets/js/211.c66a8ea6.js"><link rel="prefetch" href="/assets/js/212.e7c32ecf.js"><link rel="prefetch" href="/assets/js/213.7bfab89f.js"><link rel="prefetch" href="/assets/js/214.98a20622.js"><link rel="prefetch" href="/assets/js/215.95847b9b.js"><link rel="prefetch" href="/assets/js/216.b6c7b0ab.js"><link rel="prefetch" href="/assets/js/217.4d062f45.js"><link rel="prefetch" href="/assets/js/218.dda218f8.js"><link rel="prefetch" href="/assets/js/219.b8468dc8.js"><link rel="prefetch" href="/assets/js/22.957ff1e7.js"><link rel="prefetch" href="/assets/js/220.3ff4c68e.js"><link rel="prefetch" href="/assets/js/221.6485179f.js"><link rel="prefetch" href="/assets/js/222.f13af87f.js"><link rel="prefetch" href="/assets/js/223.ff1f1e11.js"><link rel="prefetch" href="/assets/js/224.8aff28e7.js"><link rel="prefetch" href="/assets/js/225.519dffb8.js"><link rel="prefetch" href="/assets/js/226.a3fef0d0.js"><link rel="prefetch" href="/assets/js/227.a6e33628.js"><link rel="prefetch" href="/assets/js/228.631e7e3a.js"><link rel="prefetch" href="/assets/js/229.3100a08b.js"><link rel="prefetch" href="/assets/js/23.ecf6f205.js"><link rel="prefetch" href="/assets/js/230.6a5f4c59.js"><link rel="prefetch" href="/assets/js/231.b11583f2.js"><link rel="prefetch" href="/assets/js/232.2c8c064c.js"><link rel="prefetch" href="/assets/js/233.6cc925a7.js"><link rel="prefetch" href="/assets/js/234.de6de103.js"><link rel="prefetch" href="/assets/js/235.f282f2f7.js"><link rel="prefetch" href="/assets/js/236.0caa0c5d.js"><link rel="prefetch" href="/assets/js/237.f4ba0b67.js"><link rel="prefetch" href="/assets/js/238.62909fa2.js"><link rel="prefetch" href="/assets/js/239.1a4b5a0c.js"><link rel="prefetch" href="/assets/js/24.412cc75f.js"><link rel="prefetch" href="/assets/js/240.90a4f6fc.js"><link rel="prefetch" href="/assets/js/241.a6c988f4.js"><link rel="prefetch" href="/assets/js/242.abe9594f.js"><link rel="prefetch" href="/assets/js/243.31bb6060.js"><link rel="prefetch" href="/assets/js/244.f066873e.js"><link rel="prefetch" href="/assets/js/245.3b2dc0a8.js"><link rel="prefetch" href="/assets/js/246.520b528c.js"><link rel="prefetch" href="/assets/js/247.09ee840e.js"><link rel="prefetch" href="/assets/js/248.b93672f4.js"><link rel="prefetch" href="/assets/js/249.2c6ad1bd.js"><link rel="prefetch" href="/assets/js/25.c7d638e6.js"><link rel="prefetch" href="/assets/js/250.dfdad245.js"><link rel="prefetch" href="/assets/js/251.a1c2344f.js"><link rel="prefetch" href="/assets/js/252.762cf764.js"><link rel="prefetch" href="/assets/js/253.ad526678.js"><link rel="prefetch" href="/assets/js/254.e089840a.js"><link rel="prefetch" href="/assets/js/255.61ebbb42.js"><link rel="prefetch" href="/assets/js/256.44cce3cf.js"><link rel="prefetch" href="/assets/js/257.6b62f1e6.js"><link rel="prefetch" href="/assets/js/258.a34c36e2.js"><link rel="prefetch" href="/assets/js/259.d555d17a.js"><link rel="prefetch" href="/assets/js/26.3af2f2b9.js"><link rel="prefetch" href="/assets/js/260.b4ebd57a.js"><link rel="prefetch" href="/assets/js/261.b3648c78.js"><link rel="prefetch" href="/assets/js/262.07c4f4fe.js"><link rel="prefetch" href="/assets/js/263.bc71759f.js"><link rel="prefetch" href="/assets/js/264.912e21dd.js"><link rel="prefetch" href="/assets/js/265.83da5f97.js"><link rel="prefetch" href="/assets/js/266.f45019ed.js"><link rel="prefetch" href="/assets/js/267.a75f2265.js"><link rel="prefetch" href="/assets/js/268.0fbda66b.js"><link rel="prefetch" href="/assets/js/269.f2a0e6de.js"><link rel="prefetch" href="/assets/js/27.5fd421fd.js"><link rel="prefetch" href="/assets/js/270.80e208ec.js"><link rel="prefetch" href="/assets/js/271.ddebf57a.js"><link rel="prefetch" href="/assets/js/272.cc44f6b0.js"><link rel="prefetch" href="/assets/js/273.f3b77961.js"><link rel="prefetch" href="/assets/js/274.6e9f5ed1.js"><link rel="prefetch" href="/assets/js/275.9e57942c.js"><link rel="prefetch" href="/assets/js/276.ed1d5df0.js"><link rel="prefetch" href="/assets/js/277.c6d93b9d.js"><link rel="prefetch" href="/assets/js/278.ea1a4295.js"><link rel="prefetch" href="/assets/js/279.b1cbc18b.js"><link rel="prefetch" href="/assets/js/28.2284d8c9.js"><link rel="prefetch" href="/assets/js/280.27730393.js"><link rel="prefetch" href="/assets/js/281.979ca871.js"><link rel="prefetch" href="/assets/js/282.1188c5f7.js"><link rel="prefetch" href="/assets/js/29.8cfe8b6d.js"><link rel="prefetch" href="/assets/js/3.9294b5d3.js"><link rel="prefetch" href="/assets/js/30.32caf237.js"><link rel="prefetch" href="/assets/js/31.5a4bb720.js"><link rel="prefetch" href="/assets/js/32.42f83c80.js"><link rel="prefetch" href="/assets/js/33.79d18a14.js"><link rel="prefetch" href="/assets/js/34.33a6f6a9.js"><link rel="prefetch" href="/assets/js/35.9f467249.js"><link rel="prefetch" href="/assets/js/36.31e15718.js"><link rel="prefetch" href="/assets/js/37.db3522f7.js"><link rel="prefetch" href="/assets/js/38.a4311057.js"><link rel="prefetch" href="/assets/js/39.4e341c29.js"><link rel="prefetch" href="/assets/js/4.43e2f670.js"><link rel="prefetch" href="/assets/js/40.c33a4f40.js"><link rel="prefetch" href="/assets/js/41.565457bc.js"><link rel="prefetch" href="/assets/js/42.f3850c87.js"><link rel="prefetch" href="/assets/js/43.6c74039b.js"><link rel="prefetch" href="/assets/js/44.b6a881e2.js"><link rel="prefetch" href="/assets/js/45.f6e2daaa.js"><link rel="prefetch" href="/assets/js/46.2d3405d9.js"><link rel="prefetch" href="/assets/js/47.945e360c.js"><link rel="prefetch" href="/assets/js/48.a28cf1e1.js"><link rel="prefetch" href="/assets/js/49.5f8247ce.js"><link rel="prefetch" href="/assets/js/5.238c075f.js"><link rel="prefetch" href="/assets/js/50.fcb62fe9.js"><link rel="prefetch" href="/assets/js/51.0bde5913.js"><link rel="prefetch" href="/assets/js/52.18f0fa80.js"><link rel="prefetch" href="/assets/js/53.183411c8.js"><link rel="prefetch" href="/assets/js/54.cc2cbb8f.js"><link rel="prefetch" href="/assets/js/55.8b9f1b94.js"><link rel="prefetch" href="/assets/js/56.bff26a13.js"><link rel="prefetch" href="/assets/js/57.f1dc805d.js"><link rel="prefetch" href="/assets/js/58.37bc5a68.js"><link rel="prefetch" href="/assets/js/59.ebdc3581.js"><link rel="prefetch" href="/assets/js/6.f17700ae.js"><link rel="prefetch" href="/assets/js/60.dc607006.js"><link rel="prefetch" href="/assets/js/61.480f41e7.js"><link rel="prefetch" href="/assets/js/62.65b8ac8e.js"><link rel="prefetch" href="/assets/js/63.d600dd51.js"><link rel="prefetch" href="/assets/js/64.f919bd5d.js"><link rel="prefetch" href="/assets/js/65.b6a7074e.js"><link rel="prefetch" href="/assets/js/66.1fabe36f.js"><link rel="prefetch" href="/assets/js/67.811af576.js"><link rel="prefetch" href="/assets/js/68.6921db35.js"><link rel="prefetch" href="/assets/js/69.61f396b6.js"><link rel="prefetch" href="/assets/js/7.ac937674.js"><link rel="prefetch" href="/assets/js/70.5ddffc6c.js"><link rel="prefetch" href="/assets/js/71.cee62f17.js"><link rel="prefetch" href="/assets/js/72.506374a6.js"><link rel="prefetch" href="/assets/js/73.5c554f0a.js"><link rel="prefetch" href="/assets/js/74.893c67df.js"><link rel="prefetch" href="/assets/js/75.998ad309.js"><link rel="prefetch" href="/assets/js/76.b169fe4a.js"><link rel="prefetch" href="/assets/js/77.930ba618.js"><link rel="prefetch" href="/assets/js/78.fab8d66b.js"><link rel="prefetch" href="/assets/js/79.4e095feb.js"><link rel="prefetch" href="/assets/js/8.ed472cb4.js"><link rel="prefetch" href="/assets/js/80.329a2e36.js"><link rel="prefetch" href="/assets/js/81.11ab9a12.js"><link rel="prefetch" href="/assets/js/82.83137606.js"><link rel="prefetch" href="/assets/js/83.1020f907.js"><link rel="prefetch" href="/assets/js/84.244b6b58.js"><link rel="prefetch" href="/assets/js/85.082e2ec4.js"><link rel="prefetch" href="/assets/js/86.25dc9d0c.js"><link rel="prefetch" href="/assets/js/87.a03dcb8c.js"><link rel="prefetch" href="/assets/js/88.216d23b8.js"><link rel="prefetch" href="/assets/js/89.8ab8371f.js"><link rel="prefetch" href="/assets/js/9.150dc391.js"><link rel="prefetch" href="/assets/js/90.80c16d17.js"><link rel="prefetch" href="/assets/js/91.8877399e.js"><link rel="prefetch" href="/assets/js/92.2400b7a9.js"><link rel="prefetch" href="/assets/js/93.41c23ef4.js"><link rel="prefetch" href="/assets/js/94.0b7bf0ed.js"><link rel="prefetch" href="/assets/js/95.21cd3167.js"><link rel="prefetch" href="/assets/js/96.9a969d70.js"><link rel="prefetch" href="/assets/js/97.8f6eb235.js"><link rel="prefetch" href="/assets/js/98.d652ebc1.js"><link rel="prefetch" href="/assets/js/99.42f1b6d2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3aa0083c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/icon.png" alt="wxvirus" class="logo"> <span class="site-name can-hide">wxvirus</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PHP文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a09ce1/" class="nav-link">PHP设计模式</a></li></ul></li><li class="dropdown-item"><h4>Go文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1be6f5/" class="nav-link">Go语言学习</a></li></ul></li><li class="dropdown-item"><h4>Python文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0ef862/" class="nav-link">Python</a></li></ul></li><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/java/" class="nav-link">《Java》</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/ui/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/7601f3/" class="nav-link">JS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/df7058/" class="nav-link">刷题</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/9d0e8f/" class="nav-link">算法学习</a></li><li class="dropdown-item"><!----> <a href="/pages/8f006a/" class="nav-link">架构设计</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/sword-demon" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.jpeg"> <div class="blogger-info"><h3>无解的lifecycle</h3> <span>let today = new Beginning()</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PHP文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a09ce1/" class="nav-link">PHP设计模式</a></li></ul></li><li class="dropdown-item"><h4>Go文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1be6f5/" class="nav-link">Go语言学习</a></li></ul></li><li class="dropdown-item"><h4>Python文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0ef862/" class="nav-link">Python</a></li></ul></li><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/java/" class="nav-link">《Java》</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/ui/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/7601f3/" class="nav-link">JS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/df7058/" class="nav-link">刷题</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/9d0e8f/" class="nav-link">算法学习</a></li><li class="dropdown-item"><!----> <a href="/pages/8f006a/" class="nav-link">架构设计</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/sword-demon" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>C&amp;C++</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/9e0a2b/" aria-current="page" class="active sidebar-link">C编译和链接过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9e0a2b/#extern和static的作用" class="sidebar-link">extern和static的作用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9e0a2b/#static" class="sidebar-link">static</a></li><li class="sidebar-sub-header"><a href="/pages/9e0a2b/#extern" class="sidebar-link">extern</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/9e0a2b/#编译过程" class="sidebar-link">编译过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9e0a2b/#预处理-gcc-e操作-使用预处理器" class="sidebar-link">预处理：gcc -E操作,使用预处理器</a></li><li class="sidebar-sub-header"><a href="/pages/9e0a2b/#编译-gcc-s-使用编译器" class="sidebar-link">编译：gcc -S，使用编译器</a></li><li class="sidebar-sub-header"><a href="/pages/9e0a2b/#汇编-gcc-c-使用汇编器-将汇编源码转换为机器指令" class="sidebar-link">汇编：gcc -c，使用汇编器，将汇编源码转换为机器指令</a></li><li class="sidebar-sub-header"><a href="/pages/9e0a2b/#链接-使用链接器" class="sidebar-link">链接：使用链接器</a></li></ul></li></ul></li><li><a href="/pages/8c5bbf/" class="sidebar-link">升级xcode导致cmake编译不通过</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PHP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Go</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/backend" title="后端-目录页" data-v-1cd794fe>后端</a></li> <li data-v-1cd794fe><a href="/backend/#C&amp;C++" title="后端#C&amp;C++" data-v-1cd794fe>C&amp;C++</a></li> <!----></ul> <div class="info" data-v-1cd794fe><div title="作者" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/sword-demon" target="_blank" title="作者" class="beLink" data-v-1cd794fe>wxvirus</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2022-04-17</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          C编译和链接过程
        </h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="c-编译、链接过程"><a href="#c-编译、链接过程" class="header-anchor">#</a> C 编译、链接过程</h1> <h2 id="extern和static的作用"><a href="#extern和static的作用" class="header-anchor">#</a> <code>extern</code>和<code>static</code>的作用</h2> <h3 id="static"><a href="#static" class="header-anchor">#</a> <code>static</code></h3> <h4 id="_1-修饰函数"><a href="#_1-修饰函数" class="header-anchor">#</a> 1. 修饰函数</h4> <blockquote><p><code>static</code>修饰函数时表示，该函数只在本文件有效，也就是只能被本文件的其他函数调，其他文件不能调用(引用)。</p></blockquote> <p><code>a.c</code></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">func</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不能引用</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>b.c</code></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> stu_num<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// .....</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>static</code>就像是一把锁，把函数<code>func</code>的有效范围锁在了<code>b.c</code>其他<code>.c</code>看不见这个函数 ，自然无法调用。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>因为<code>static</code>将函数名这个符号变成了“本地符号”，“本地符号”只在本文件可见，其他文件是看不见的。</p></div> <h4 id="_2-修饰变量"><a href="#_2-修饰变量" class="header-anchor">#</a> 2. 修饰变量</h4> <ol><li><p><code>static</code>修饰局部变量</p> <blockquote><p>改变的是局部变量的存储位置，从栈变为静态存储区，与“本地符号”什么的没有关系</p></blockquote> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> va<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> a<span class="token punctuation">;</span>
    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>a、b</code>为“自动局部变量”，空间开辟于栈中。</p> <p>加了<code>static</code>修饰</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> va<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> a<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>a、b</code>变为了“静态局部变量”，<code>a、b</code>的空间开辟于静态存储区，而不再是栈。</p> <ul><li>如果没有初始化的话，比如<code>a</code>就没有初始化，<code>a</code>的空间在静态区中的<code>.bss</code>区</li> <li>如果有初始化的话，比如<code>b</code>就有初始化，<code>b</code>的空间在静态区中的<code>.data</code>区</li></ul></li> <li><p><code>static</code>修饰全局变量</p> <blockquote><p>与修饰函数一样，让全局变量只在本文件有效，其它文件无法引用。</p> <p><code>static</code>修饰全局变量的时候，与全局变量的存储位置无关，全局变量的空间本来就是在静态存储区，加不加<code>static</code>并不能改变存储位置，<code>static</code>只是改变了符号的属性，变成了本地符号。</p></blockquote></li></ol> <h3 id="extern"><a href="#extern" class="header-anchor">#</a> <code>extern</code></h3> <h4 id="_1-修饰函数-2"><a href="#_1-修饰函数-2" class="header-anchor">#</a> 1. 修饰函数</h4> <blockquote><p><code>extern</code>修饰的函数，表示除了能被本文件引用外，还可以被其他的文件引用，在其他文件中是可见的，只不过在其他文件中引用时，需要做声明。刚好与<code>static</code>相反。</p></blockquote> <p><code>a.c</code></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> stu_num<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">extern</span> <span class="token keyword">int</span> <span class="token function">a_fun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>b.c</code></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> stu_num<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>事实上，<code>extern</code>不需要明确写出，因为默认是<code>extern</code>的，也就是说定义和声明可以写出如下格式：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> stu_num<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">a_fun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> stu_num<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="编译过程"><a href="#编译过程" class="header-anchor">#</a> 编译过程</h2> <p>编译原理可以去看一本书：《现代编译原理》，有词法分析、语法分析、优化、生成中间代码</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;stdio.h&quot;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello world\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>源码文件 --&gt; gcc 处理 --&gt; <code>elf</code>可执行文件</p> <p>有这样的一个过程：预处理、编译、汇编、链接</p> <p>使用<code>gcc</code>命令文档<a href="https://man7.org/linux/man-pages/man1/gcc.1.html" target="_blank" rel="noopener noreferrer">https://man7.org/linux/man-pages/man1/gcc.1.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="预处理-gcc-e操作-使用预处理器"><a href="#预处理-gcc-e操作-使用预处理器" class="header-anchor">#</a> 预处理：<code>gcc -E</code>操作,使用预处理器</h3> <blockquote><p>-E Stop after the preprocessing stage; do not run the compiler
proper. The output is in the form of preprocessed source
code, which is sent to the standard output.</p></blockquote> <p>预处理后的文件也是一个源码文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gcc -E demo1.c -o demo1.i

<span class="token comment"># 查看文件内容</span>
<span class="token function">cat</span> demo1.i
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>会发现有很多头文件和一些代码插入进来。</p> <h3 id="编译-gcc-s-使用编译器"><a href="#编译-gcc-s-使用编译器" class="header-anchor">#</a> 编译：<code>gcc -S</code>，使用编译器</h3> <blockquote><p>-S Stop after the stage of compilation proper; do not assemble.
The output is in the form of an assembler code file for each
non-assembler input file specified.</p> <p>​</p> <p>​ By default, the assembler file name for a source file is made
​ by replacing the suffix .c, .i, etc., with .s.</p> <p>​ Input files that don't require compilation are ignored.</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gcc -S demo1.i -o demo1.s

<span class="token comment"># 生成汇编代码文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>➜ <span class="token function">file</span> demo1.s
demo1.s: assembler <span class="token builtin class-name">source</span> text, ASCII text
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="汇编-gcc-c-使用汇编器-将汇编源码转换为机器指令"><a href="#汇编-gcc-c-使用汇编器-将汇编源码转换为机器指令" class="header-anchor">#</a> 汇编：<code>gcc -c</code>，使用汇编器，将汇编源码转换为机器指令</h3> <blockquote><p>-c Compile or assemble the source files, but do not link. The
linking stage simply is not done. The ultimate output is in
the form of an object file for each source file.</p> <p>​ By default, the object file name for a source file is made by
​ replacing the suffix .c, .i, .s, etc., with .o.</p> <p>​ Unrecognized input files, not requiring compilation or</p> <p>​ assembly, are ignored.</p></blockquote> <p>翻译：</p> <blockquote><p>编译或组装源文件，但不要链接的
连系阶段还没有完成。最终的输出是 in
每个源文件的目标文件的形式。默认情况下，源文件的对象文件名由
将后缀.c， .i， .s 等替换为.o。</p> <p>无法识别的输入文件，不需要编译或</p> <p>大会,将被忽略。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gcc -c demo1.s -o demo1.o

➜ <span class="token function">file</span> demo1.o
demo1.o: Mach-O <span class="token number">64</span>-bit object arm64

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我这边用的是<code>mac unix</code>编译的，如果是 linux 则是<code>elf</code>可重定向文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">file</span> demo1.o
demo1.o: ELF <span class="token number">64</span>-bit LSB relocatable, x86-64, version <span class="token number">1</span> <span class="token punctuation">(</span>SYSV<span class="token punctuation">)</span>, not stripped
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>经过上述 3 个操作之后生成的文件是<code>ELF</code>可重定向文件，顺带介绍一下<code>elf</code>文件的类型</p> <ul><li>REL(Relocatable file)</li> <li>EXEC(Executable file)</li></ul> <h3 id="链接-使用链接器"><a href="#链接-使用链接器" class="header-anchor">#</a> 链接：使用链接器</h3> <blockquote><p>主要功能：把各个模块链接起来组织成为可执行文件</p> <p>如果是直接<code>gcc demo1.c</code>，会直接把你上述几个过程都做了直接生成可执行文件，包括现在的编辑器点击的<code>Run</code>运行也是这样的一个过程。</p></blockquote> <p>例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>a.c b.c 源码文件
a.o b.o 目标文件
a.o b.o 一些库文件[运行库]
最后一起链接得到可执行文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>为什么要链接：因为我们某些文件里的，使用的比如：<code>printf</code>就是标准库提供的，链接的时候会去链接它所在的库文件。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gcc demo1.o -o demo1

➜ <span class="token function">file</span> demo1
demo1: Mach-O <span class="token number">64</span>-bit executable arm64

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>现在这个文件就是一个可执行文件。</p> <p>直接执行</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./demo1
hello world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>符号：<code>Symbol</code></p> <blockquote><p>在链接中，把函数的名字，变量【全局变量】的名字都称为符号</p></blockquote> <p>在开发大型项目时，会把系统拆分成各个模块，去开发编写，在编译时，是单独编译成各个目标文件得到<code>.o</code>文件，这些模块会涉及到函数以及变量的调用【访问】，如果<code>a.c 调用foo函数</code>没有声明也没有定义，在<code>b.c重定义好的foo函数</code>，链接器会帮它去找到对应的函数地址，将各个模块链接起来。</p> <p>实际上我们可以直接使用<code>gcc demo1.c</code>生成<code>demo1</code>可执行文件，加上<code>-o</code>可以指定对应的文件名称。</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sword-demon/edit/master/docs/01.后端/01.C&amp;C++/00.C编译和链接过程.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/05/03, 11:55:07</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/8c5bbf/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">升级xcode导致cmake编译不通过</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/8c5bbf/">升级xcode导致cmake编译不通过</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/582f09/"><div>Go项目包管理方法</div></a> <span>05-14</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/f58ea4/"><div>Go程序是如何运行的</div></a> <span>05-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/bc90f0/"><div>Go的编译过程</div></a> <span>05-13</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:2468170366@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/sword-demon" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/wxvirus" title="Gitee" target="_blank" class="iconfont icon-gitee"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2022
    <span>wxvirus</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.0b73d4e4.js" defer></script><script src="/assets/js/2.5e51705b.js" defer></script><script src="/assets/js/10.957c5076.js" defer></script>
  </body>
</html>