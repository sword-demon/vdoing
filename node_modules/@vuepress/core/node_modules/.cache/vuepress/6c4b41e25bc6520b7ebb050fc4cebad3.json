{"remainingRequest":"/Users/wangxin/workspace/vdoing/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/wangxin/workspace/vdoing/node_modules/vuepress-theme-vdoing/util/postData.js","dependencies":[{"path":"/Users/wangxin/workspace/vdoing/node_modules/vuepress-theme-vdoing/util/postData.js","mtime":499162500000},{"path":"/Users/wangxin/workspace/vdoing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxin/workspace/vdoing/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IHR5cGUsIGNvbXBhcmVEYXRlIH0gZnJvbSAnLi9pbmRleCc7Ci8qKgogKiDov4fmu6TpnZ7mlofnq6DpobUKICogQHBhcmFtIHtBcnJheX0gcG9zdHMg5omA5pyJ5paH56ug5pWw5o2uCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclBvc3RzKHBvc3RzKSB7CiAgcG9zdHMgPSBwb3N0cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHZhciBfaXRlbSRmcm9udG1hdHRlciA9IGl0ZW0uZnJvbnRtYXR0ZXIsCiAgICAgICAgcGFnZUNvbXBvbmVudCA9IF9pdGVtJGZyb250bWF0dGVyLnBhZ2VDb21wb25lbnQsCiAgICAgICAgYXJ0aWNsZSA9IF9pdGVtJGZyb250bWF0dGVyLmFydGljbGUsCiAgICAgICAgaG9tZSA9IF9pdGVtJGZyb250bWF0dGVyLmhvbWU7CiAgICByZXR1cm4gIShwYWdlQ29tcG9uZW50IHx8IGFydGljbGUgPT09IGZhbHNlIHx8IGhvbWUgPT09IHRydWUpOyAvLyDlrZjlnKjpobXpnaLnu4Tku7bjgIFhcnRpY2xl5a2X5q615Li6ZmFsc2XvvIzku6Xlj4rpppbpobUKICB9KTsKICByZXR1cm4gcG9zdHM7Cn0KLyoqCiAqIOaMiee9rumhtuWSjOaXtumXtOaOkuW6jwogKiBAcGFyYW0ge0FycmF5fSBwb3N0cyDov4fmu6TpnZ7mlofnq6DpobXkuYvlkI7nmoTmlofnq6DmlbDmja4KICovCgpleHBvcnQgZnVuY3Rpb24gc29ydFBvc3RzKHBvc3RzKSB7CiAgcG9zdHMuc29ydChmdW5jdGlvbiAocHJldiwgbmV4dCkgewogICAgdmFyIHByZXZTdGlja3kgPSBwcmV2LmZyb250bWF0dGVyLnN0aWNreTsKICAgIHZhciBuZXh0U3RpY2t5ID0gbmV4dC5mcm9udG1hdHRlci5zdGlja3k7CgogICAgaWYgKHByZXZTdGlja3kgJiYgbmV4dFN0aWNreSkgewogICAgICByZXR1cm4gcHJldlN0aWNreSA9PSBuZXh0U3RpY2t5ID8gY29tcGFyZURhdGUocHJldiwgbmV4dCkgOiBwcmV2U3RpY2t5IC0gbmV4dFN0aWNreTsKICAgIH0gZWxzZSBpZiAocHJldlN0aWNreSAmJiAhbmV4dFN0aWNreSkgewogICAgICByZXR1cm4gLTE7CiAgICB9IGVsc2UgaWYgKCFwcmV2U3RpY2t5ICYmIG5leHRTdGlja3kpIHsKICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgcmV0dXJuIGNvbXBhcmVEYXRlKHByZXYsIG5leHQpOwogIH0pOwogIHJldHVybiBwb3N0czsKfQovKioKICog5oyJ5pe26Ze05o6S5bqPCiAqIEBwYXJhbSB7QXJyYXl9IHBvc3RzIOi/h+a7pOmdnuaWh+eroOmhteS5i+WQjueahOaWh+eroOaVsOaNrgogKi8KCmV4cG9ydCBmdW5jdGlvbiBzb3J0UG9zdHNCeURhdGUocG9zdHMpIHsKICBwb3N0cy5zb3J0KGZ1bmN0aW9uIChwcmV2LCBuZXh0KSB7CiAgICByZXR1cm4gY29tcGFyZURhdGUocHJldiwgbmV4dCk7CiAgfSk7CiAgcmV0dXJuIHBvc3RzOwp9Ci8qKgogKiDmjInliIbnsbvlkozmoIfnrb7liIbnu4QKICogQHBhcmFtIHtBcnJheX0gcG9zdHMg5oyJ5pe26Ze05o6S5bqP5LmL5ZCO55qE5paH56ug5pWw5o2uCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdyb3VwUG9zdHMocG9zdHMpIHsKICB2YXIgY2F0ZWdvcmllc09iaiA9IHt9OwogIHZhciB0YWdzT2JqID0ge307CgogIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGksIHBvc3RzTCkgewogICAgdmFyIF9wb3N0cyRpJGZyb250bWF0dGVyID0gcG9zdHNbaV0uZnJvbnRtYXR0ZXIsCiAgICAgICAgY2F0ZWdvcmllcyA9IF9wb3N0cyRpJGZyb250bWF0dGVyLmNhdGVnb3JpZXMsCiAgICAgICAgdGFncyA9IF9wb3N0cyRpJGZyb250bWF0dGVyLnRhZ3M7CgogICAgaWYgKHR5cGUoY2F0ZWdvcmllcykgPT09ICdhcnJheScpIHsKICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIC8vIOWIhuexu+WAvOaYr+acieaViOeahAogICAgICAgICAgaWYgKCFjYXRlZ29yaWVzT2JqW2l0ZW1dKSB7CiAgICAgICAgICAgIGNhdGVnb3JpZXNPYmpbaXRlbV0gPSBbXTsKICAgICAgICAgIH0KCiAgICAgICAgICBjYXRlZ29yaWVzT2JqW2l0ZW1dLnB1c2gocG9zdHNbaV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgaWYgKHR5cGUodGFncykgPT09ICdhcnJheScpIHsKICAgICAgdGFncy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIC8vIOagh+etvuWAvOaYr+acieaViOeahAogICAgICAgICAgaWYgKCF0YWdzT2JqW2l0ZW1dKSB7CiAgICAgICAgICAgIHRhZ3NPYmpbaXRlbV0gPSBbXTsKICAgICAgICAgIH0KCiAgICAgICAgICB0YWdzT2JqW2l0ZW1dLnB1c2gocG9zdHNbaV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfTsKCiAgZm9yICh2YXIgaSA9IDAsIHBvc3RzTCA9IHBvc3RzLmxlbmd0aDsgaSA8IHBvc3RzTDsgaSsrKSB7CiAgICBfbG9vcChpLCBwb3N0c0wpOwogIH0KCiAgcmV0dXJuIHsKICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXNPYmosCiAgICB0YWdzOiB0YWdzT2JqCiAgfTsKfQovKioKICog6I635Y+W5omA5pyJ5YiG57G75ZKM5qCH562+CiAqIEBwYXJhbSB7T2JqZWN0fSBncm91cFBvc3RzIOaMieWIhuexu+WSjOagh+etvuWIhue7hOS5i+WQjueahOaWh+eroOaVsOaNrgogKi8KCmV4cG9ydCBmdW5jdGlvbiBjYXRlZ29yaWVzQW5kVGFncyhncm91cFBvc3RzKSB7CiAgdmFyIGNhdGVnb3JpZXNBcnIgPSBbXTsKICB2YXIgdGFnc0FyciA9IFtdOwoKICBmb3IgKHZhciBrZXkgaW4gZ3JvdXBQb3N0cy5jYXRlZ29yaWVzKSB7CiAgICBjYXRlZ29yaWVzQXJyLnB1c2goewogICAgICBrZXk6IGtleSwKICAgICAgbGVuZ3RoOiBncm91cFBvc3RzLmNhdGVnb3JpZXNba2V5XS5sZW5ndGgKICAgIH0pOwogIH0KCiAgZm9yICh2YXIgX2tleSBpbiBncm91cFBvc3RzLnRhZ3MpIHsKICAgIHRhZ3NBcnIucHVzaCh7CiAgICAgIGtleTogX2tleSwKICAgICAgbGVuZ3RoOiBncm91cFBvc3RzLnRhZ3NbX2tleV0ubGVuZ3RoCiAgICB9KTsKICB9CgogIHJldHVybiB7CiAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzQXJyLAogICAgdGFnczogdGFnc0FycgogIH07Cn0="},{"version":3,"sources":["/Users/wangxin/workspace/vdoing/node_modules/vuepress-theme-vdoing/util/postData.js"],"names":["type","compareDate","filterPosts","posts","filter","item","frontmatter","pageComponent","article","home","sortPosts","sort","prev","next","prevSticky","sticky","nextSticky","sortPostsByDate","groupPosts","categoriesObj","tagsObj","i","postsL","categories","tags","forEach","push","length","categoriesAndTags","categoriesArr","tagsArr","key"],"mappings":";;;;AAAA,SAASA,IAAT,EAAeC,WAAf,QAAkC,SAAlC;AAEA;AACA;AACA;AACA;;AACA,OAAO,SAASC,WAAT,CAAsBC,KAAtB,EAA6B;AAClCA,EAAAA,KAAK,GAAGA,KAAK,CAACC,MAAN,CAAa,UAAAC,IAAI,EAAI;AAC3B,4BAA0DA,IAA1D,CAAQC,WAAR;AAAA,QAAuBC,aAAvB,qBAAuBA,aAAvB;AAAA,QAAsCC,OAAtC,qBAAsCA,OAAtC;AAAA,QAA+CC,IAA/C,qBAA+CA,IAA/C;AACA,WAAO,EAAEF,aAAa,IAAIC,OAAO,KAAK,KAA7B,IAAsCC,IAAI,KAAK,IAAjD,CAAP,CAF2B,CAEmC;AAC/D,GAHO,CAAR;AAIA,SAAON,KAAP;AACD;AAED;AACA;AACA;AACA;;AACA,OAAO,SAASO,SAAT,CAAoBP,KAApB,EAA2B;AAChCA,EAAAA,KAAK,CAACQ,IAAN,CAAW,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACzB,QAAMC,UAAU,GAAGF,IAAI,CAACN,WAAL,CAAiBS,MAApC;AACA,QAAMC,UAAU,GAAGH,IAAI,CAACP,WAAL,CAAiBS,MAApC;;AACA,QAAID,UAAU,IAAIE,UAAlB,EAA8B;AAC5B,aAAOF,UAAU,IAAIE,UAAd,GAA2Bf,WAAW,CAACW,IAAD,EAAOC,IAAP,CAAtC,GAAsDC,UAAU,GAAGE,UAA1E;AACD,KAFD,MAEO,IAAIF,UAAU,IAAI,CAACE,UAAnB,EAA+B;AACpC,aAAO,CAAC,CAAR;AACD,KAFM,MAEA,IAAI,CAACF,UAAD,IAAeE,UAAnB,EAA+B;AACpC,aAAO,CAAP;AACD;;AACD,WAAOf,WAAW,CAACW,IAAD,EAAOC,IAAP,CAAlB;AACD,GAXD;AAYA,SAAOV,KAAP;AACD;AAED;AACA;AACA;AACA;;AACA,OAAO,SAASc,eAAT,CAA0Bd,KAA1B,EAAiC;AACtCA,EAAAA,KAAK,CAACQ,IAAN,CAAW,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACzB,WAAOZ,WAAW,CAACW,IAAD,EAAOC,IAAP,CAAlB;AACD,GAFD;AAGA,SAAOV,KAAP;AACD;AAED;AACA;AACA;AACA;;AACA,OAAO,SAASe,UAAT,CAAqBf,KAArB,EAA4B;AACjC,MAAMgB,aAAa,GAAG,EAAtB;AACA,MAAMC,OAAO,GAAG,EAAhB;;AAFiC,6BAIxBC,CAJwB,EAIjBC,MAJiB;AAK/B,+BAA8CnB,KAAK,CAACkB,CAAD,CAAnD,CAAQf,WAAR;AAAA,QAAuBiB,UAAvB,wBAAuBA,UAAvB;AAAA,QAAmCC,IAAnC,wBAAmCA,IAAnC;;AACA,QAAIxB,IAAI,CAACuB,UAAD,CAAJ,KAAqB,OAAzB,EAAkC;AAChCA,MAAAA,UAAU,CAACE,OAAX,CAAmB,UAAApB,IAAI,EAAI;AACzB,YAAIA,IAAJ,EAAU;AAAE;AACV,cAAI,CAACc,aAAa,CAACd,IAAD,CAAlB,EAA0B;AACxBc,YAAAA,aAAa,CAACd,IAAD,CAAb,GAAsB,EAAtB;AACD;;AACDc,UAAAA,aAAa,CAACd,IAAD,CAAb,CAAoBqB,IAApB,CAAyBvB,KAAK,CAACkB,CAAD,CAA9B;AACD;AACF,OAPD;AAQD;;AACD,QAAIrB,IAAI,CAACwB,IAAD,CAAJ,KAAe,OAAnB,EAA4B;AAC1BA,MAAAA,IAAI,CAACC,OAAL,CAAa,UAAApB,IAAI,EAAI;AACnB,YAAIA,IAAJ,EAAU;AAAE;AACV,cAAI,CAACe,OAAO,CAACf,IAAD,CAAZ,EAAoB;AAClBe,YAAAA,OAAO,CAACf,IAAD,CAAP,GAAgB,EAAhB;AACD;;AACDe,UAAAA,OAAO,CAACf,IAAD,CAAP,CAAcqB,IAAd,CAAmBvB,KAAK,CAACkB,CAAD,CAAxB;AACD;AACF,OAPD;AAQD;AAzB8B;;AAIjC,OAAK,IAAIA,CAAC,GAAG,CAAR,EAAWC,MAAM,GAAGnB,KAAK,CAACwB,MAA/B,EAAuCN,CAAC,GAAGC,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;AAAA,UAA/CA,CAA+C,EAAxCC,MAAwC;AAsBvD;;AACD,SAAO;AACLC,IAAAA,UAAU,EAAEJ,aADP;AAELK,IAAAA,IAAI,EAAEJ;AAFD,GAAP;AAID;AAED;AACA;AACA;AACA;;AACA,OAAO,SAASQ,iBAAT,CAA4BV,UAA5B,EAAwC;AAC7C,MAAMW,aAAa,GAAG,EAAtB;AACA,MAAMC,OAAO,GAAG,EAAhB;;AAEA,OAAK,IAAIC,GAAT,IAAgBb,UAAU,CAACK,UAA3B,EAAuC;AACrCM,IAAAA,aAAa,CAACH,IAAd,CAAmB;AACjBK,MAAAA,GAAG,EAAHA,GADiB;AAEjBJ,MAAAA,MAAM,EAAET,UAAU,CAACK,UAAX,CAAsBQ,GAAtB,EAA2BJ;AAFlB,KAAnB;AAID;;AAED,OAAK,IAAII,IAAT,IAAgBb,UAAU,CAACM,IAA3B,EAAiC;AAC/BM,IAAAA,OAAO,CAACJ,IAAR,CAAa;AACXK,MAAAA,GAAG,EAAHA,IADW;AAEXJ,MAAAA,MAAM,EAAET,UAAU,CAACM,IAAX,CAAgBO,IAAhB,EAAqBJ;AAFlB,KAAb;AAID;;AACD,SAAO;AACLJ,IAAAA,UAAU,EAAEM,aADP;AAELL,IAAAA,IAAI,EAAEM;AAFD,GAAP;AAID","sourcesContent":["import { type, compareDate } from './index'\n\n/**\n * 过滤非文章页\n * @param {Array} posts 所有文章数据\n */\nexport function filterPosts (posts) {\n  posts = posts.filter(item => {\n    const { frontmatter: { pageComponent, article, home } } = item\n    return !(pageComponent || article === false || home === true) // 存在页面组件、article字段为false，以及首页\n  })\n  return posts\n}\n\n/**\n * 按置顶和时间排序\n * @param {Array} posts 过滤非文章页之后的文章数据\n */\nexport function sortPosts (posts) {\n  posts.sort((prev, next) => {\n    const prevSticky = prev.frontmatter.sticky\n    const nextSticky = next.frontmatter.sticky\n    if (prevSticky && nextSticky) {\n      return prevSticky == nextSticky ? compareDate(prev, next) : (prevSticky - nextSticky)\n    } else if (prevSticky && !nextSticky) {\n      return -1\n    } else if (!prevSticky && nextSticky) {\n      return 1\n    }\n    return compareDate(prev, next)\n  })\n  return posts\n}\n\n/**\n * 按时间排序\n * @param {Array} posts 过滤非文章页之后的文章数据\n */\nexport function sortPostsByDate (posts) {\n  posts.sort((prev, next) => {\n    return compareDate(prev, next)\n  })\n  return posts\n}\n\n/**\n * 按分类和标签分组\n * @param {Array} posts 按时间排序之后的文章数据\n */\nexport function groupPosts (posts) {\n  const categoriesObj = {}\n  const tagsObj = {}\n\n  for (let i = 0, postsL = posts.length; i < postsL; i++) {\n    const { frontmatter: { categories, tags } } = posts[i]\n    if (type(categories) === 'array') {\n      categories.forEach(item => {\n        if (item) { // 分类值是有效的\n          if (!categoriesObj[item]) {\n            categoriesObj[item] = []\n          }\n          categoriesObj[item].push(posts[i])\n        }\n      })\n    }\n    if (type(tags) === 'array') {\n      tags.forEach(item => {\n        if (item) { // 标签值是有效的\n          if (!tagsObj[item]) {\n            tagsObj[item] = []\n          }\n          tagsObj[item].push(posts[i])\n        }\n      })\n    }\n  }\n  return {\n    categories: categoriesObj,\n    tags: tagsObj\n  }\n}\n\n/**\n * 获取所有分类和标签\n * @param {Object} groupPosts 按分类和标签分组之后的文章数据\n */\nexport function categoriesAndTags (groupPosts) {\n  const categoriesArr = []\n  const tagsArr = []\n\n  for (let key in groupPosts.categories) {\n    categoriesArr.push({\n      key,\n      length: groupPosts.categories[key].length\n    })\n  }\n\n  for (let key in groupPosts.tags) {\n    tagsArr.push({\n      key,\n      length: groupPosts.tags[key].length\n    })\n  }\n  return {\n    categories: categoriesArr,\n    tags: tagsArr\n  }\n}\n"]}]}